<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <link href="jqjm/jquery.mobile-1.4.5.css" rel="stylesheet" />
    <link href="jqjm/jquery.mobile.theme-1.4.5.min.css" rel="stylesheet" />
    <link href="font/css/font-awesome.min.css" rel="stylesheet" />
    <link href="css/right.css" rel="stylesheet" />
    <script src="jqjm/jquery.min.js"></script>
    <script src="jqjm/jquery.mobile-1.4.5.min.js"></script>
    <link href="css/friend.css" rel="stylesheet" />
    <link href="css/right.css" rel="stylesheet" />

</head>
<body>
    <div data-role="page" data-theme="a">

        <div data-role="header" data-theme="a">
            <a href="i.html" data-ajax="false" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-home">主页</a>
            <h1>用户中心</h1>
            <a href="#rightpanel3"><i class="fa fa-navicon" style=""></i></a>
        </div>
        <div class="cohebox">
            <div class="cx-l">
                <div class="ll">
                    <img width="100" height="100" src="../img/default.jpg" />
                </div>
            </div>
            <div class="cx-r">
                <div class="box">
                    <h3>比特</h3>
                    <p><i class="fa fa-database"></i>账户积分:124</p>
                    <canvas id="myCanvas" width="180" height="60">你的浏览器不支持HTML 的Canvas动画，请更换浏览器</canvas>
                </div>
            </div>
        </div>
        <div data-role="tabs" id="tabs">
            <div data-role="navbar">
                <ul>
                    <li><a class="opt opt1 ui-btn-active" href="#one" data-ajax="false" data-icon="info">任务</a></li>
                    <li><a class="opt opt2" href="#two" data-ajax="false" data-icon="gear">项目</a></li>
                    <li><a class="opt opt3" href="#three" data-ajax="false" data-icon="star">团体</a></li>
                    <li><a class="opt opt4" href="#four" data-icon="user" data-ajax="false">朋友</a></li>
                </ul>
            </div>
            <div id="one">
                <ul data-role="listview" data-inset="false">
                    <li><a href="task1.html" data-ajax="false">进行中的任务<span class="ui-li-count">328</span></a></li>
                    <li><a href="task2.html" data-ajax="false">已完成的任务<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">关注的任务<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">推荐的任务<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">发布的任务<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">创建任务</a></li>
                </ul>
            </div>
            <div id="two">
                <ul data-role="listview" data-inset="false">
                    <li><a href="Pro.html" data-ajax="false">关注的项目<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">推荐的项目<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">创建的项目<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">创建项目</a></li>
                </ul>
            </div>
            <div id="three">
                <ul data-role="listview" data-inset="false">
                    <li><a href="#">加入的团体<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">关注的团体<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">推荐的团队<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">我的团体<span class="ui-li-count">328</span></a></li>
                    <li><a href="#">创建团体</a></li>
                </ul>
            </div>
            <div id="four">
                <script>
                    $(function () {
                        var trjson = '[{"name":"Tim","url":"i.html"},{"name":"Jack","url":"i.html"},{"name":"Bobo","url":"i.html"}]';
                        //var myCanvas = document.createElement("canvas");

                        var w1 = document.body.clientWidth;
                        //var h1 = 200;
                        //myCanvas.setAttribute("width", w1);
                        //myCanvas.setAttribute("height", h1);
                        //if (myCanvas.getContext)

                        //    // If you have it, create a canvas user inteface element.
                        //{
                        //    // Specify 2d canvas type.
                        //    var ctx = myCanvas.getContext("2d");

                        //    // Draw gold UI element.
                        //    // Start the path.
                        //    ctx.beginPath();
                        //    // Define the fill color in RGB for gold.
                        //    ctx.fillStyle = "rgb(255 ,215 ,0)";
                        //    // Draw the circle using an arc.
                        //    ctx.arc(w1 / 2, 100, 50, 0, 2 * Math.PI, true);
                        //    // Fill the circle.
                        //    ctx.fill();
                        //}
                        //$("#four").append(myCanvas);
                        var str = "";
                        str += '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="' + w1 + '" height="200" >';

                        $.each($.parseJSON(trjson), function () {
                            // alert(this.id + "-" + "-" + this.img + "-" + this.title);
                            str += '<circle cx="' + w1 / 2 + '" cy="50" r="40"  fill="red" />';
                            str += '<a xlink:href="' + this.url + '" target="_blank">';
                            str += '<text x="' + w1 / 2 + '" y="50" style="fill: #fff">' + this.name + '</text>';
                            str += '</a>';
                        })

                        str += '</svg>';
                        $("#four").append(str);

                    });

                </script>
            </div>
        </div>
        <div data-display="overlay" data-position="right" id="rightpanel3" data-role="panel" class="ui-panel ui-panel-position-right ui-panel-display-overlay ui-body-b ui-panel-animate ui-panel-open">
            <div class="ui-panel-inner pr">
                <ul class="rpanelul">
                    <li class="ui-first-child" data-icon="delete">
                        <a data-rel="close" href="#"><i class="fa fa-remove"></i>&nbsp;关闭</a>
                    </li>
                    <li><a href="#"><i class="fa fa-user"></i>&nbsp;个人资料</a></li>
                    <li><a href="#"><i class="fa fa-bell-o"></i>&nbsp;我的消息</a></li>
                    <li><a href="#"><i class="fa fa-pencil-square-o"></i>&nbsp;修改密码</a></li>
                    <li><a href="#"><i class="fa fa-database"></i>&nbsp;账户管理</a></li>
                    <li><a href="#"><i class="fa fa-sign-out"></i>&nbsp;安全退出</a></li>
                </ul>

            </div>
        </div>
        <!-- <div data-role="footer" data-theme="b">
            <h1>底部文本</h1>
        </div>-->

    </div>
    <script>
        var j = .8;
        var f = 1.6;
        var l = 2;
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var img = new Image();
        img.src = "http://192.168.11.103/img/剑.png";
        img.onload = function () {
            ctx.drawImage(img, -20, -10, 99, 74);

            ctx.beginPath();
            ctx.arc(27, 30, 25, 0, 2 * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#b5e6ff';
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(27, 30, 25, 0, j * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#ff494a';
            ctx.stroke();
        }
        var img1 = new Image();
        img1.src = "http://192.168.11.103/img/jian.jpg";
        img1.onload = function () {
            ctx.drawImage(img1, 66, 8, 42, 42);
            ctx.beginPath();
            ctx.arc(87, 30, 25, 0, 2 * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#b5e6ff';
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(87, 30, 25, 0, f * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#ff494a';
            ctx.stroke();
        }
        var img2 = new Image();
        img2.src = "http://192.168.11.103/img/灵.png";
        img2.onload = function () {
            ctx.drawImage(img2, 98, -8, 99, 74);
            ctx.beginPath();
            ctx.arc(147, 30, 25, 0, l * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#b5e6ff';
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(147, 30, 25, 0, l * Math.PI);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#ff494a';
            ctx.stroke();

            ctx.fillStyle = "#000"
            //ctx.font = '1em 微软雅黑 ';
            //ctx.fillText('剑', 12, 25);
            //ctx.font = '1em 微软雅黑 ';
            //ctx.fillText('法', 57, 25);
            //ctx.font = '1em 微软雅黑 ';
            //ctx.fillText('灵', 102, 25);
        }
    </script>
    <script>
        $(function () {
            function getQueryString(name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]); return null;
            }
            var r = getQueryString("i");
            //alert(r);
            if (r == 1) {
                $(".opt").removeClass("ui-btn-active");
                $(".opt1").addClass("ui-btn-active");
            } else if (r == 2) {
                $(".opt").removeClass("ui-btn-active");
                $(".opt2").addClass("ui-btn-active");
            } else if (r == 3) {
                $(".opt").removeClass("ui-btn-active");
                $(".opt3").addClass("ui-btn-active");
            } else if (r == 4) {
                $(".opt").removeClass("ui-btn-active");
                $(".opt1").addClass("ui-btn-active");
            } else {
                $(".opt").removeClass("ui-btn-active");
                $(".opt1").addClass("ui-btn-active");
            }
        })
    </script>
</body>
</html>
